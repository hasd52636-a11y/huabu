<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åº”ç”¨åŠ è½½æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .success { border-color: #4CAF50; background-color: #f8fff8; }
        .error { border-color: #f44336; background-color: #fff8f8; }
        .info { border-color: #2196F3; background-color: #f8f9ff; }
        .test-button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #1976D2;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ åº”ç”¨åŠ è½½æµ‹è¯•</h1>
    
    <div class="test-section info">
        <h3>ğŸ“‹ æµ‹è¯•è¯´æ˜</h3>
        <p>æ­¤é¡µé¢ç”¨äºæµ‹è¯•ä¸»åº”ç”¨æ˜¯å¦èƒ½æ­£å¸¸åŠ è½½ï¼Œè§£å†³ç™½å±é—®é¢˜ã€‚</p>
        <ul>
            <li>âœ… ä¿®å¤äº† RealtimeShareButton.tsx ä¸­çš„è¯­æ³•é”™è¯¯</li>
            <li>âœ… ä¼˜åŒ–äº† P2PShareService çš„è¿æ¥é…ç½®</li>
            <li>âœ… æ„å»ºéªŒè¯é€šè¿‡</li>
            <li>âœ… å¼€å‘æœåŠ¡å™¨è¿è¡Œæ­£å¸¸</li>
        </ul>
    </div>

    <div class="test-section">
        <h3>ğŸŒ åº”ç”¨åŠ è½½æµ‹è¯•</h3>
        <p>å¼€å‘æœåŠ¡å™¨åœ°å€: <strong>http://localhost:3005/</strong></p>
        <button class="test-button" onclick="loadApp()">åŠ è½½åº”ç”¨</button>
        <button class="test-button" onclick="openInNewTab()">æ–°æ ‡ç­¾é¡µæ‰“å¼€</button>
        <button class="test-button" onclick="checkConsole()">æ£€æŸ¥æ§åˆ¶å°</button>
        
        <div id="app-container" style="margin-top: 20px;">
            <!-- åº”ç”¨å°†åœ¨è¿™é‡ŒåŠ è½½ -->
        </div>
    </div>

    <div class="test-section">
        <h3>ğŸ“Š æµ‹è¯•ç»“æœ</h3>
        <div id="test-results">
            <p>ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹æµ‹è¯•...</p>
        </div>
    </div>

    <script>
        function updateResults(message, type = 'info') {
            const results = document.getElementById('test-results');
            const timestamp = new Date().toLocaleTimeString();
            results.innerHTML += `<p class="${type}">[${timestamp}] ${message}</p>`;
        }

        function loadApp() {
            updateResults('å¼€å§‹åŠ è½½åº”ç”¨...', 'info');
            
            const container = document.getElementById('app-container');
            container.innerHTML = '<iframe src="http://localhost:3005/" onload="onAppLoaded()" onerror="onAppError()"></iframe>';
        }

        function onAppLoaded() {
            updateResults('âœ… åº”ç”¨åŠ è½½æˆåŠŸï¼iframe å·²åŠ è½½å®Œæˆ', 'success');
        }

        function onAppError() {
            updateResults('âŒ åº”ç”¨åŠ è½½å¤±è´¥ï¼è¯·æ£€æŸ¥å¼€å‘æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ', 'error');
        }

        function openInNewTab() {
            updateResults('åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€åº”ç”¨...', 'info');
            window.open('http://localhost:3005/', '_blank');
        }

        function checkConsole() {
            updateResults('è¯·æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º', 'info');
            updateResults('æŒ‰ F12 æˆ–å³é”® -> æ£€æŸ¥å…ƒç´  -> Console æ ‡ç­¾', 'info');
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        window.onload = function() {
            updateResults('æµ‹è¯•é¡µé¢å·²åŠ è½½ï¼Œå‡†å¤‡æµ‹è¯•åº”ç”¨', 'success');
            
            // æ£€æŸ¥å¼€å‘æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
            fetch('http://localhost:3005/')
                .then(response => {
                    if (response.ok) {
                        updateResults('âœ… å¼€å‘æœåŠ¡å™¨è¿è¡Œæ­£å¸¸', 'success');
                    } else {
                        updateResults('âš ï¸ å¼€å‘æœåŠ¡å™¨å“åº”å¼‚å¸¸', 'error');
                    }
                })
                .catch(error => {
                    updateResults('âŒ æ— æ³•è¿æ¥åˆ°å¼€å‘æœåŠ¡å™¨ï¼Œè¯·ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨', 'error');
                });
        };
    </script>
</body>
</html>