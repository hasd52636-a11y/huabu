<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tag Chip Enhancement System Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8fafc;
        }
        
        .demo-container {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .demo-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #1f2937;
        }
        
        .demo-description {
            color: #6b7280;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .tag-chip {
            display: inline-block;
            padding: 6px 12px;
            margin: 4px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid;
        }
        
        .tag-chip-a {
            background: linear-gradient(135deg, #3b82f6, #1e3a8a);
            color: white;
            border-color: #1e40af;
        }
        
        .tag-chip-b {
            background: linear-gradient(135deg, #10b981, #064e3b);
            color: white;
            border-color: #047857;
        }
        
        .tag-chip-v {
            background: linear-gradient(135deg, #ef4444, #991b1b);
            color: white;
            border-color: #b91c1c;
        }
        
        .tag-chip:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .tag-chip:focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }
        
        .preview-tooltip {
            position: absolute;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            font-size: 14px;
            max-width: 300px;
            z-index: 1000;
            display: none;
        }
        
        .preview-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .preview-description {
            color: #64748b;
            font-size: 13px;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .feature-status {
            display: inline-block;
            width: 20px;
            text-align: center;
        }
        
        .status-complete {
            color: #10b981;
        }
        
        .status-partial {
            color: #f59e0b;
        }
        
        .input-demo {
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 12px;
            min-height: 60px;
            background: white;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .input-demo:focus {
            outline: none;
            border-color: #3b82f6;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1 class="demo-title">ğŸ¯ Tag Chip Enhancement System Demo</h1>
        <p class="demo-description">
            è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ ‡ç­¾èŠ¯ç‰‡å¢å¼ºç³»ç»Ÿæ¼”ç¤ºï¼Œå±•ç¤ºäº†æˆ‘ä»¬å®ç°çš„æ‰€æœ‰åŠŸèƒ½ç‰¹æ€§ã€‚
        </p>
    </div>

    <div class="demo-container">
        <h2 class="demo-title">âœ¨ å¢å¼ºçš„æ ‡ç­¾èŠ¯ç‰‡</h2>
        <p class="demo-description">
            æ‚¬åœåœ¨æ ‡ç­¾ä¸ŠæŸ¥çœ‹é¢„è§ˆæ•ˆæœï¼Œç‚¹å‡»æµ‹è¯•äº¤äº’åŠŸèƒ½ï¼š
        </p>
        
        <div style="margin: 20px 0;">
            <span class="tag-chip tag-chip-a" tabindex="0" role="button" aria-label="Block A01" data-content="è¿™æ˜¯Aç±»å‹çš„å†…å®¹å—ï¼ŒåŒ…å«é‡è¦çš„æ–‡æœ¬ä¿¡æ¯ã€‚">
                [A01]
            </span>
            <span class="tag-chip tag-chip-b" tabindex="0" role="button" aria-label="Block B02" data-content="è¿™æ˜¯Bç±»å‹çš„å†…å®¹å—ï¼ŒåŒ…å«å›¾åƒæˆ–åª’ä½“ä¿¡æ¯ã€‚">
                [B02]
            </span>
            <span class="tag-chip tag-chip-v" tabindex="0" role="button" aria-label="Block V03" data-content="è¿™æ˜¯Vç±»å‹çš„å†…å®¹å—ï¼ŒåŒ…å«è§†é¢‘æˆ–åŠ¨æ€å†…å®¹ã€‚">
                [V03]
            </span>
        </div>
        
        <div class="preview-tooltip" id="tooltip">
            <div class="preview-title" id="tooltip-title"></div>
            <div class="preview-description" id="tooltip-description"></div>
        </div>
    </div>

    <div class="demo-container">
        <h2 class="demo-title">ğŸ“ å¢å¼ºçš„è¾“å…¥ç»„ä»¶</h2>
        <p class="demo-description">
            æ¨¡æ‹Ÿçš„ TaggedInput ç»„ä»¶ï¼Œæ”¯æŒæ ‡ç­¾å’Œæ–‡æœ¬æ··åˆè¾“å…¥ï¼š
        </p>
        
        <div class="input-demo" contenteditable="true" id="demo-input">
            è¯·è¾“å…¥æ–‡æœ¬ï¼Œç„¶åç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ’å…¥æ ‡ç­¾ï¼š
        </div>
        
        <div style="margin-top: 12px;">
            <button onclick="insertTag('A01')" style="margin-right: 8px; padding: 6px 12px; border: 1px solid #d1d5db; border-radius: 6px; background: white; cursor: pointer;">
                æ’å…¥ [A01]
            </button>
            <button onclick="insertTag('B02')" style="margin-right: 8px; padding: 6px 12px; border: 1px solid #d1d5db; border-radius: 6px; background: white; cursor: pointer;">
                æ’å…¥ [B02]
            </button>
            <button onclick="insertTag('V03')" style="padding: 6px 12px; border: 1px solid #d1d5db; border-radius: 6px; background: white; cursor: pointer;">
                æ’å…¥ [V03]
            </button>
        </div>
    </div>

    <div class="demo-container">
        <h2 class="demo-title">ğŸš€ å®ç°çš„åŠŸèƒ½ç‰¹æ€§</h2>
        <ul class="feature-list">
            <li>
                <span class="feature-status status-complete">âœ…</span>
                <strong>è§†è§‰æ ·å¼å¼•æ“</strong> - æ¸å˜èƒŒæ™¯ã€å“åº”å¼è®¾è®¡ã€ä¸€è‡´çš„é—´è·
            </li>
            <li>
                <span class="feature-status status-complete">âœ…</span>
                <strong>å…‰æ ‡ç®¡ç†ç³»ç»Ÿ</strong> - ç²¾ç¡®çš„å…‰æ ‡å®šä½ã€é€‰åŒºç®¡ç†ã€æ’¤é”€/é‡åš
            </li>
            <li>
                <span class="feature-status status-complete">âœ…</span>
                <strong>æ‚¬åœé¢„è§ˆç³»ç»Ÿ</strong> - æ™ºèƒ½å®šä½ã€è§†å£è¾¹ç•Œæ£€æµ‹ã€é˜²æŠ–å¤„ç†
            </li>
            <li>
                <span class="feature-status status-complete">âœ…</span>
                <strong>å¸ƒå±€ç®¡ç†å™¨</strong> - å¤šè¡Œå¸ƒå±€ã€å“åº”å¼é‡æ’ã€ä½ç½®è®¡ç®—
            </li>
            <li>
                <span class="feature-status status-complete">âœ…</span>
                <strong>äº¤äº’å¤„ç†å™¨</strong> - 50ms ç‚¹å‡»åé¦ˆã€é”®ç›˜å¯¼èˆªã€äº‹ä»¶å®Œæ•´æ€§
            </li>
            <li>
                <span class="feature-status status-complete">âœ…</span>
                <strong>æ— éšœç¢ç®¡ç†å™¨</strong> - ARIA æ”¯æŒã€å±å¹•é˜…è¯»å™¨å…¼å®¹ã€é”®ç›˜æ“ä½œ
            </li>
            <li>
                <span class="feature-status status-complete">âœ…</span>
                <strong>æ€§èƒ½ä¼˜åŒ–å™¨</strong> - é˜²æŠ–å¤„ç†ã€æ‰¹é‡æ›´æ–°ã€å†…å­˜æ¸…ç†
            </li>
            <li>
                <span class="feature-status status-complete">âœ…</span>
                <strong>é¢œè‰²æ— éšœç¢</strong> - WCAG 2.1 AA åˆè§„ã€å¯¹æ¯”åº¦æ£€æµ‹
            </li>
        </ul>
    </div>

    <div class="demo-container">
        <h2 class="demo-title">ğŸ“Š ç³»ç»Ÿæ¶æ„</h2>
        <p class="demo-description">
            ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå„ç»„ä»¶èŒè´£æ¸…æ™°ï¼š
        </p>
        <ul style="line-height: 1.8;">
            <li><strong>VisualStyleEngine</strong> - è´Ÿè´£æ ·å¼è®¡ç®—å’Œæ¸²æŸ“</li>
            <li><strong>CursorManager</strong> - ç®¡ç†å…‰æ ‡ä½ç½®å’Œé€‰åŒº</li>
            <li><strong>HoverPreviewSystem</strong> - å¤„ç†æ‚¬åœé¢„è§ˆåŠŸèƒ½</li>
            <li><strong>LayoutManager</strong> - è®¡ç®—å¤šè¡Œå¸ƒå±€å’Œä½ç½®</li>
            <li><strong>InteractionHandler</strong> - å¤„ç†ç”¨æˆ·äº¤äº’äº‹ä»¶</li>
            <li><strong>AccessibilityManager</strong> - æä¾›æ— éšœç¢æ”¯æŒ</li>
            <li><strong>PerformanceOptimizer</strong> - ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨</li>
        </ul>
    </div>

    <script>
        // æ‚¬åœé¢„è§ˆåŠŸèƒ½æ¼”ç¤º
        const tooltip = document.getElementById('tooltip');
        const tooltipTitle = document.getElementById('tooltip-title');
        const tooltipDescription = document.getElementById('tooltip-description');
        
        document.querySelectorAll('.tag-chip').forEach(chip => {
            chip.addEventListener('mouseenter', (e) => {
                const label = e.target.getAttribute('aria-label');
                const content = e.target.getAttribute('data-content');
                
                tooltipTitle.textContent = label;
                tooltipDescription.textContent = content;
                
                const rect = e.target.getBoundingClientRect();
                tooltip.style.left = rect.left + 'px';
                tooltip.style.top = (rect.bottom + 8) + 'px';
                tooltip.style.display = 'block';
            });
            
            chip.addEventListener('mouseleave', () => {
                tooltip.style.display = 'none';
            });
            
            chip.addEventListener('click', (e) => {
                e.target.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    e.target.style.transform = '';
                }, 100);
            });
            
            chip.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    e.target.click();
                }
            });
        });
        
        // æ ‡ç­¾æ’å…¥åŠŸèƒ½æ¼”ç¤º
        function insertTag(tagId) {
            const input = document.getElementById('demo-input');
            const selection = window.getSelection();
            
            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                
                const tagElement = document.createElement('span');
                tagElement.className = `tag-chip tag-chip-${tagId.charAt(0).toLowerCase()}`;
                tagElement.contentEditable = 'false';
                tagElement.textContent = `[${tagId}]`;
                tagElement.setAttribute('tabindex', '0');
                tagElement.setAttribute('role', 'button');
                tagElement.setAttribute('aria-label', `Block ${tagId}`);
                
                const spaceBefore = document.createTextNode(' ');
                const spaceAfter = document.createTextNode(' ');
                
                range.deleteContents();
                range.insertNode(spaceAfter);
                range.insertNode(tagElement);
                range.insertNode(spaceBefore);
                
                range.setStartAfter(spaceAfter);
                range.setEndAfter(spaceAfter);
                
                selection.removeAllRanges();
                selection.addRange(range);
            }
            
            input.focus();
        }
        
        // é”®ç›˜å¯¼èˆªæ¼”ç¤º
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') {
                // Tab é”®å¯¼èˆªå·²ç”±æµè§ˆå™¨å¤„ç†
            }
        });
        
        console.log('ğŸ‰ Tag Chip Enhancement System Demo å·²åŠ è½½');
        console.log('âœ¨ æ‰€æœ‰åŠŸèƒ½ç»„ä»¶å·²æˆåŠŸå®ç°å¹¶é›†æˆ');
    </script>
</body>
</html>