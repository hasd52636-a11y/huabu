/**
 * Canvas 智能创作平台 - AI助手参考指南
 * 
 * 此文件包含提供给AI助手的完整平台使用指南
 * 当用户启用智能助手时，这些内容会作为系统提示传递给AI模型
 */

export const ASSISTANT_GUIDE_CONTENT = `# Canvas 智能创作平台用户指南

## 平台概述

Canvas 是一个基于AI的智能创作平台，支持文本、图片、视频的生成和编辑。用户可以通过模块化的方式创建内容，并通过连接模块实现自动化工作流。

## 核心功能

### 1. 模块系统
- **文本模块（A系列）**：生成和编辑文本内容，支持多种格式输出
- **图片模块（B系列）**：生成图片，支持多种尺寸和风格
- **视频模块（V系列）**：生成视频内容，支持不同时长和分辨率
- **模块连接**：通过引用语法 \`@A01\`、\`@B01\`、\`@V01\` 实现模块间数据传递

### 2. AI服务配置
- **多提供商支持**：Google AI、智谱AI、神马AI、OpenAI兼容服务
- **分类配置**：文本、图片、视频功能可独立配置不同提供商
- **API密钥管理**：在设置面板中配置API密钥和模型ID

### 3. 智能助手功能
- **多模态对话**：支持文本、图片、视频的分析和处理
- **内容投射**：AI生成的内容可直接创建为画布模块
- **工具调用**：支持各种AI工具的自动调用

## 基础操作流程

### 创建和编辑模块
1. 点击左上角"+"按钮选择模块类型
2. 在画布上点击放置模块
3. 点击模块进入编辑模式
4. 输入提示词或上传文件
5. 点击生成按钮创建内容
6. 保存或继续编辑

### 模块连接和引用
- 使用 \`@A01\`、\`@B01\`、\`@V01\` 等格式引用其他模块
- 支持内容拼接、风格参考、条件触发
- 可创建复杂的自动化工作流

### 文件上传和处理
- **支持格式**：文本(.txt, .md, .json等)、图片(.jpg, .png等)、视频(.mp4, .mov等)
- **大小限制**：单文件50MB，视频推荐30MB以下
- **批量处理**：支持最多100个文件同时上传

## 高级功能

### 角色客串系统
- 从视频中提取角色（物品、宠物、虚拟角色，不支持真人）
- 支持从视频URL或任务ID创建角色
- 在新视频中使用已创建的角色

### 多图生成
- 一次生成2-10张相关图片
- 支持网格、水平、垂直等布局方式
- 可批量投射到画布或下载

### 模板管理
- 保存常用的模块布局和配置
- 支持普通模板和自动化模板
- 快速复用成功的创作流程

### 批量处理
- 支持批量文本、图片、视频生成
- 可上传JSONL等格式的批量数据
- 自动化执行和结果下载

## 导出和下载

### 单模块下载
- **文本**：TXT格式（纯文本）或PDF格式（格式化文档）
- **图片**：PNG格式，保持原始质量
- **视频**：MP4格式，支持不同分辨率

### 整体导出
- 画布截图导出
- 多模块批量下载
- 支持不同格式和质量设置

## 资源限制

### 内容限制
- 文本模块：2000字符上限
- 提示词：3000字符上限
- 画布模块：最多100个

### 文件限制
- 单文件：50MB上限
- 批量上传：100个文件上限
- 视频推荐：30MB以下

### 性能限制
- API请求：每秒3次上限
- 自动化任务：最多3个并发
- 执行超时：30分钟上限

## 常见问题解决

### API配置问题
- 检查API密钥格式是否正确
- 确认选择的模型ID是否支持当前功能
- 测试网络连接和API服务状态

### 生成质量问题
- 优化提示词，使其更具体和清晰
- 尝试不同的AI模型
- 调整生成参数（尺寸、风格等）

### 文件上传问题
- 确认文件格式在支持列表中
- 检查文件大小是否超出限制
- 尝试刷新页面后重新上传

### 模块连接问题
- 确认引用的模块编号正确
- 检查被引用模块是否已生成内容
- 验证连接语法格式

## 最佳实践

### 提示词优化
- 使用具体、描述性的语言
- 包含风格、色彩、构图等细节
- 避免过于复杂或矛盾的要求

### 工作流设计
- 合理规划模块间的依赖关系
- 使用模板保存成功的工作流
- 定期清理不需要的模块

### 性能优化
- 避免创建过多不必要的模块
- 及时删除失败或无用的内容
- 合理使用批量处理功能

## 技术支持

如遇到技术问题，请提供以下信息：
- 具体的错误信息
- 操作步骤和预期结果
- 使用的浏览器和版本
- API配置信息（不包含密钥）

平台持续更新中，新功能会及时更新到本指南。`;

/**
 * 获取AI助手参考指南内容
 * @returns 完整的指南内容字符串
 */
export const getAssistantGuideContent = (): string => {
  return ASSISTANT_GUIDE_CONTENT;
};

/**
 * 创建AI助手的系统提示词
 * @param guideContent 指南内容
 * @returns 格式化的系统提示词
 */
export const createAssistantSystemPrompt = (guideContent: string): string => {
  return `
<system>
你是Canvas智能创作平台的专业助手。请基于以下用户指南来回答用户关于平台的问题：

${guideContent}

回答规则：
1. 优先使用指南中的信息回答问题
2. 回答要准确、具体、有帮助
3. 如果问题不在指南范围内，礼貌地告知用户你只能回答Canvas平台相关问题
4. 可以提供操作步骤、最佳实践建议
5. 保持友好和专业的语调
</system>
`;
};